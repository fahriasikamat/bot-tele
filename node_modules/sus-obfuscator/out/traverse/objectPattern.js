"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.objectPattern = void 0;
const cfg_1 = require("../config/cfg");
const warn_1 = require("../log/warn");
const comment_1 = require("../obfuscate/comment");
const obfuscateName_1 = require("../obfuscate/obfuscateName");
const arrayPattern_1 = require("./arrayPattern");
function objectPattern(expr) {
    var data = '{' + (0, comment_1.comment)(3);
    expr.properties.forEach((i, n) => {
        if (i.value.type === 'Identifier') {
            data += i.value.name;
        }
        else if (i.value.type === 'ObjectPattern') {
            data += objectPattern(i.value);
        }
        else if (i.value.type === 'ArrayPattern') {
            data += (0, arrayPattern_1.arrayPattern)(i.value);
        }
        else
            (0, warn_1.warn)(`Unknown expression type in objectPattern(e) => e.properties[${n}].value : ${i.value.type}`);
        data += (0, comment_1.comment)(3) + ':' + (0, comment_1.comment)(2);
        data += (0, cfg_1.cfg)().transforms.obfuscateNames ? (0, obfuscateName_1.obfuscateName)(i.key.name) : i.key.name;
        data += (0, comment_1.comment)(3) + ',';
    });
    data += '}' + (0, comment_1.comment)(2);
    return data;
}
exports.objectPattern = objectPattern;
